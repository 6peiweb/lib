<script>
// *********** Map的实现 ***********
!(function (window, undefined) {
  function Map (iterator) {
    this.keyStore = []
    this.valueStore = []
    this.size = 0
    this.init(iterator)
  }

  Map.prototype.init = function (iterator) {
    var self = this
    !(iterator || []).forEach(function (item) {
      var key = item[0]
      var value = item[1]
      self.set(key, value)
    })
  }

  Map.prototype.get = function (key) {
    var index = this.keyStore.indexOf(key)
    return this.valueStore[index]
  }

  Map.prototype.set = function (key, value) {
    this.keyStore.push(key)
    this.valueStore.push(value)
    this.size ++
  }

  Map.prototype.has = function (key) {
    return this.keyStore.indexOf(key) > -1
  }

  Map.prototype.delete = function (key) {
    var keyStore = this.keyStore
    var valueStore = this.valueStore
    var index = keyStore.indexOf(key)
    keyStore.splice(index, 1)
    valueStore.splice(index, 1)
    this.size --
    return true
  }

  Map.prototype.clear = function () {
    this.keyStore = []
    this.valueStore = []
    this.size = 0
  }

  window.Map = Map
})(window)

b = {}

a = new Map([
  [b, '张三'],
  ['age', 12]
])
console.log(a);
// ********************************
</script>